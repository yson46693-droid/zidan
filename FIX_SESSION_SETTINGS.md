# ๐ง ุฅุตูุงุญ session.save_path ู soap.wsdl_cache_enabled

## ๐ ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ ุงูุญุงููุฉ

ุจูุงุกู ุนูู ูุชุงุฆุฌ `test-session.php`:

- โ `session.save_path`: `/opt/alt/php81/var/lib/php/session` (ูุฌุจ ุฃู ูููู `/tmp`)
- โ `soap.wsdl_cache_enabled`: `1` (ูุฌุจ ุฃู ูููู `0`)
- โ `open_basedir`: `/var/www/vhosts/alaazidan.store/:/tmp/` (ุตุญูุญ)
- โ `/tmp` ูุงุจู ูููุตูู ูุงููุชุงุจุฉ (ุตุญูุญ)
- โ ุงูุฌูุณุฉ ุชุนูู ุจูุฌุงุญ (ููู ูู ูุณุงุฑ ุฎุงุทุฆ)

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุชู ุชุญุฏูุซ `api/config.php`
- โ ุฅุถุงูุฉ ุงุณุชุฎุฏุงู `session_save_path()` ูุจุงุดุฑุฉ (ุฃููู ูู `ini_set()`)
- โ ุฅุถุงูุฉ ูุญุงููุงุช ูุชุนุฏุฏุฉ ูุชุนุทูู `soap.wsdl_cache_enabled`
- โ ุฅุถุงูุฉ ุงูุชุญูู ูู ูุฌุงุญ ุงูุชุนููู

### 2. ุชู ุชุญุฏูุซ `.htaccess`
- โ ุฅุถุงูุฉ ุฏุนู LiteSpeed PHP-FPM (`lsapi_module`)
- โ ุฅุถุงูุฉ ุฅุนุฏุงุฏุงุช `session.save_path` ู `soap.wsdl_cache_enabled`

### 3. ุชู ุฅูุดุงุก `.user.ini`
- โ ููู ุฅุนุฏุงุฏุงุช PHP ุนูู ูุณุชูู ุงููุณุชุฎุฏู (ุฅุฐุง ูุงู LiteSpeed ูุฏุนูู)

## ๐ ุฎุทูุงุช ุงูุชุญูู

### 1. ุงูุณุญ Cache ูุงุฎุชุจุฑ ูุฑุฉ ุฃุฎุฑู

```bash
# ุงูุณุญ ุฃู cache ููุฌูุณุงุช
rm -rf /opt/alt/php81/var/lib/php/session/*
rm -rf /tmp/sess_*
```

### 2. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ

```
https://alaazidan.store/test-session.php
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ `session.save_path`: `/tmp`
- โ `soap.wsdl_cache_enabled`: `0`

## โ๏ธ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### ุงูุญู 1: ุชุนุฏูู ุฅุนุฏุงุฏุงุช LiteSpeed ูุจุงุดุฑุฉ (ูุชุทูุจ ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ)

**ูู ููุญุฉ ุชุญูู LiteSpeed:**

1. ุงุฐูุจ ุฅูู **Virtual Hosts** โ **alaazidan.store**
2. ุงุฐูุจ ุฅูู **Script Handler** ุฃู **PHP Settings**
3. ุฃุถู ุงูุฅุนุฏุงุฏุงุช ุงูุชุงููุฉ:

```
session.save_path = /tmp
soap.wsdl_cache_enabled = 0
soap.wsdl_cache_dir = /tmp
soap.wsdl_cache_ttl = 0
soap.wsdl_cache_limit = 0
```

4. ุงุญูุธ ูุฃุนุฏ ุชุดุบูู LiteSpeed

### ุงูุญู 2: ุงูุงุชุตุงู ุจุงูุฏุนู ุงูููู

ุฅุฐุง ูู ุชูู ูุฏูู ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ:

1. **ุงุชุตู ุจุงูุฏุนู ุงูููู** ูุทูุจ ุชุนุฏูู ุฅุนุฏุงุฏุงุช PHP
2. **ุฃุฑุณู ููู** ุงููููุงุช ุงูุชุงููุฉ:
   - `api/config.php` (ุงูุณุทูุฑ 148-220)
   - `.htaccess` (ุงูุณุทูุฑ 247-280)
   - `.user.ini`
3. **ุงุทูุจ ูููู** ุชุนุฏูู:
   - `session.save_path` ุฅูู `/tmp`
   - `soap.wsdl_cache_enabled` ุฅูู `0`

### ุงูุญู 3: ุงุณุชุฎุฏุงู ูุฌูุฏ sessions ุฏุงุฎู ุงููููุน (ุญู ุจุฏูู)

ุฅุฐุง ูู ุชุนูู ุงูุญููู ุงูุณุงุจูุฉุ ุณูุณุชุฎุฏู ุงููุธุงู ุชููุงุฆูุงู ูุฌูุฏ `sessions` ุฏุงุฎู ุงููููุน:

```php
// ููุฌูุฏ ูู api/config.php ูุญู ุจุฏูู
$alternativePath = __DIR__ . '/../sessions';
```

**ููุงุญุธุฉ:** ูุฐุง ุงูุญู ูุนูู ูููู ุฃูู ุฃูุงูุงู ูู ุงุณุชุฎุฏุงู `/tmp`.

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฌูุณุฉ ุชุนูู ุญุงููุงู** ููู ูู ูุณุงุฑ ุฎุงุทุฆ (`/opt/alt/php81/var/lib/php/session`)
2. **ุงููุดููุฉ ุงูุฑุฆูุณูุฉ** ูู ุฃู LiteSpeed ูุฏ ูููู ูุถุจูุท ุนูู ูุณุชูู Virtual Host
3. **ุงูุญููู ุงููุทุจูุฉ** ุณุชุญุงูู ุงูุชุบูุจ ุนูู ูุฐุงุ ููู ูุฏ ุชุญุชุงุฌ ุฅูู ุชุนุฏูู ุฅุนุฏุงุฏุงุช LiteSpeed ูุจุงุดุฑุฉ

## โ ุจุนุฏ ุงูุฅุตูุงุญ

ุจุนุฏ ุชุทุจูู ุงูุญููู:

1. โ `session.save_path` ูุฌุจ ุฃู ูููู `/tmp`
2. โ `soap.wsdl_cache_enabled` ูุฌุจ ุฃู ูููู `0`
3. โ ุงูุฌูุณุงุช ุณุชุนูู ูู `/tmp` (ูุณููุญ ูู `open_basedir`)
4. โ ูู ุชุธูุฑ ุฃุฎุทุงุก `open_basedir restriction`

## ๐๏ธ ุงุญุฐู ูููุงุช ุงูุงุฎุชุจุงุฑ

ุจุนุฏ ุงูุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช:

```bash
rm test-session.php
rm test-openbasedir.php  # ุฅุฐุง ูุงู ููุฌูุฏุงู
```

---

**ูููุฒูุฏ ูู ุงูุชูุงุตูู:** ุฑุงุฌุน `LITESPEED_FIX_GUIDE.md`
