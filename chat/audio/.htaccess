# السماح بالوصول للملفات الصوتية
<FilesMatch "\.(webm|mp3|ogg|wav|m4a|aac|flac)$">
    Order allow,deny
    Allow from all
</FilesMatch>

# إعدادات CORS للملفات الصوتية
<IfModule mod_headers.c>
    <FilesMatch "\.(webm|mp3|ogg|wav|m4a|aac|flac)$">
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, POST, OPTIONS, HEAD"
        Header set Access-Control-Allow-Headers "Content-Type, Range, Content-Range"
        Header set Access-Control-Expose-Headers "Content-Range, Content-Length, Accept-Ranges"
    </FilesMatch>
</IfModule>

# ✅ دعم Range requests للبث الصوتي (206 Partial Content)
# هذا ضروري لتشغيل الملفات الصوتية على الهاتف
<IfModule mod_headers.c>
    <FilesMatch "\.(webm|mp3|ogg|wav|m4a|aac|flac)$">
        # السماح بطلبات Range
        Header set Accept-Ranges "bytes"
    </FilesMatch>
</IfModule>

# ✅ إعدادات Cache للملفات الصوتية
<IfModule mod_headers.c>
    <FilesMatch "\.(webm|mp3|ogg|wav|m4a|aac|flac)$">
        # Cache-Control للملفات الصوتية
        Header set Cache-Control "public, max-age=31536000, immutable"
        # ETag لدعم Range requests
        Header set ETag "true"
    </FilesMatch>
</IfModule>

# منع عرض محتويات المجلد
Options -Indexes

