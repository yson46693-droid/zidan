<<<<<<< HEAD
=======
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ø¨Ù…Ø¬Ù„Ø¯ API

# âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø¹Ø§Ù…Ø©: Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª PHP ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯
<IfModule mod_authz_core.c>
    <Directory ".">
        Require all granted
        Options +ExecCGI +FollowSymLinks
    </Directory>
</IfModule>
<IfModule !mod_authz_core.c>
    <Directory ".">
        Order allow,deny
        Allow from all
        Options +ExecCGI +FollowSymLinks
    </Directory>
</IfModule>

# ØªÙØ¹ÙŠÙ„ PHP - Ø¶Ø±ÙˆØ±ÙŠ Ù„Ù€ LiteSpeed Ùˆ Apache
AddType application/x-httpd-php .php
AddHandler application/x-httpd-php .php

# Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª CORS ÙˆØ§Ù„Ø£Ù…Ø§Ù† ÙŠØªÙ… Ø¶Ø¨Ø·Ù‡Ø§ Ù…Ù† config.php Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹
# Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø¹ Ø§Ù„ØªØ¹Ø§Ø±Ø¶Ø§Øª ÙˆÙŠØ¶Ù…Ù† Ø¹Ù…Ù„ credentials Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­

>>>>>>> 04142393a4124dd57e08ede9a51134349457bdae
# ============================================
# ğŸš€ ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡ - Performance Optimizations
# ============================================

<<<<<<< HEAD
# ØªÙØ¹ÙŠÙ„ HTTP/2 Ùˆ HTTP/3 (Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¯Ø¹ÙˆÙ…Ø§Ù‹ Ù…Ù† Ø§Ù„Ø®Ø§Ø¯Ù…)
<IfModule mod_headers.c>
    # ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ù…Ø§Ù† ÙˆØ§Ù„Ø£Ø¯Ø§Ø¡
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set Referrer-Policy "strict-origin-when-cross-origin"
</IfModule>

# ============================================
# ğŸ“¦ Ø¶ØºØ· Ø§Ù„Ù…Ù„ÙØ§Øª - Compression (Gzip/Brotli)
# ============================================
<IfModule mod_deflate.c>
    # Ø¶ØºØ· Ù…Ù„ÙØ§Øª HTML, CSS, JavaScript, Text, XML, JSON
    AddOutputFilterByType DEFLATE text/html
    AddOutputFilterByType DEFLATE text/css
    AddOutputFilterByType DEFLATE text/javascript
    AddOutputFilterByType DEFLATE application/javascript
    AddOutputFilterByType DEFLATE application/json
    AddOutputFilterByType DEFLATE text/xml
    AddOutputFilterByType DEFLATE application/xml
    AddOutputFilterByType DEFLATE application/xhtml+xml
    AddOutputFilterByType DEFLATE image/svg+xml
    
    # Ù…Ù†Ø¹ Ø¶ØºØ· Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø¶ØºÙˆØ·Ø© Ù…Ø³Ø¨Ù‚Ø§Ù‹
    SetEnvIfNoCase Request_URI \.(?:gif|jpe?g|png|webp|ico)$ no-gzip dont-vary
    SetEnvIfNoCase Request_URI \.(?:exe|t?gz|zip|bz2|sit|rar)$ no-gzip dont-vary
</IfModule>

# ============================================
# ğŸ’¾ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª - Browser Caching
# ============================================
<IfModule mod_expires.c>
    ExpiresActive On
    
    # Ø§Ù„ØµÙˆØ± - ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø¯Ø© Ø³Ù†Ø©
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType image/x-icon "access plus 1 year"
    
    # CSS Ùˆ JavaScript - ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø¯Ø© Ø´Ù‡Ø±
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
    ExpiresByType text/javascript "access plus 1 month"
    
    # Ø§Ù„Ø®Ø·ÙˆØ· - ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø¯Ø© Ø³Ù†Ø©
    ExpiresByType font/woff "access plus 1 year"
    ExpiresByType font/woff2 "access plus 1 year"
    
    # HTML - Ù„Ø§ ØªØ®Ø²ÙŠÙ†
    ExpiresByType text/html "access plus 0 seconds"
    
    # JSON - ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø¯Ø© Ø³Ø§Ø¹Ø©
    ExpiresByType application/json "access plus 1 hour"
</IfModule>

# Cache-Control Headers
<IfModule mod_headers.c>
    # Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ø®Ø·ÙˆØ· - ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø¯Ø© Ø³Ù†Ø©
    <FilesMatch "\.(jpg|jpeg|png|gif|webp|svg|ico|woff|woff2|ttf|eot)$">
        Header set Cache-Control "max-age=31536000, public, immutable"
    </FilesMatch>
    
    # CSS Ùˆ JavaScript - ØªØ®Ø²ÙŠÙ† Ù„Ù…Ø¯Ø© Ø´Ù‡Ø±
    <FilesMatch "\.(css|js)$">
        Header set Cache-Control "max-age=2592000, public"
    </FilesMatch>
    
    # HTML - Ù„Ø§ ØªØ®Ø²ÙŠÙ†
    <FilesMatch "\.(html|htm)$">
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires "0"
=======
# ØªØ¹Ø·ÙŠÙ„ mod_security Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ Ù„Ù€ auth.php Ùˆ test-auth.php
<IfModule mod_security.c>
    <LocationMatch "^/.*api/(auth|test-auth)\.php$">
        SecRuleEngine Off
    </LocationMatch>
    <FilesMatch "^.*api/(auth|test-auth)\.php$">
        SecRuleEngine Off
>>>>>>> 04142393a4124dd57e08ede9a51134349457bdae
    </FilesMatch>
    <Files "auth.php">
        SecRuleEngine Off
    </Files>
    <Files "test-auth.php">
        SecRuleEngine Off
    </Files>
</IfModule>

# ============================================
# ğŸ“„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª MIME Types
# ============================================

# Ø¶Ù…Ø§Ù† ØªÙ‚Ø¯ÙŠÙ… Ù…Ù„ÙØ§Øª HTML Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
AddType text/html .html
AddDefaultCharset UTF-8

# Ø¶Ù…Ø§Ù† ØªÙ‚Ø¯ÙŠÙ… Ù…Ù„ÙØ§Øª CSS Ùˆ JS
<IfModule mod_mime.c>
    AddType text/css .css
    AddType application/javascript .js
    AddType text/javascript .js
    AddType application/manifest+json .webmanifest
    AddType application/manifest+json manifest.json
    AddType application/json .json
    AddType image/webp .webp
    AddType image/avif .avif
</IfModule>

# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ù„Ù€ Service Worker (sw.js)
<Files "sw.js">
    <IfModule mod_headers.c>
        Header set Content-Type "application/javascript; charset=utf-8"
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires "0"
        Header set Service-Worker-Allowed "/"
    </IfModule>
</Files>

<<<<<<< HEAD
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø®Ø§ØµØ© Ù„Ù€ Manifest (manifest.json)
<Files "manifest.json">
    <IfModule mod_headers.c>
        Header set Content-Type "application/manifest+json; charset=utf-8"
        Header set Cache-Control "no-cache, no-store, must-revalidate"
        Header set Pragma "no-cache"
        Header set Expires "0"
=======
# âœ… Ù‚Ø§Ø¹Ø¯Ø© Ø®Ø§ØµØ© Ù„Ù€ test-auth.php - Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
<Files "test-auth.php">
    # Apache 2.4+ Ùˆ LiteSpeed
    <IfModule mod_authz_core.c>
        Require all granted
    </IfModule>
    # Apache 2.2 (fallback)
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Allow from all
    </IfModule>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ HTTP
    Options +ExecCGI +FollowSymLinks +Indexes
    # Ù‚Ø§Ø¹Ø¯Ø© Ø®Ø§ØµØ© Ù„Ù€ LiteSpeed
    <IfModule LiteSpeed>
        SetHandler lsapi
        Require all granted
        Options +ExecCGI +FollowSymLinks
    </IfModule>
</Files>

# Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ø§Øª OPTIONS (preflight) - Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©
# config.php ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹Ù‡Ø§ Ø£ÙŠØ¶Ø§Ù‹ØŒ Ù„ÙƒÙ† Ù†ØªØ±ÙƒÙ‡Ø§ Ù„Ù„Ø§Ø³ØªØ¶Ø§ÙØ§Øª Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªØ­ØªØ§Ø¬Ù‡Ø§
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ HTTP (GET, POST, PUT, DELETE, OPTIONS, PATCH)
    RewriteCond %{REQUEST_METHOD} ^(GET|POST|PUT|DELETE|OPTIONS|PATCH)$
    RewriteRule ^(.*)$ - [L]
    
    # Ù…Ø¹Ø§Ù„Ø¬Ø© Ø·Ù„Ø¨Ø§Øª OPTIONS Ø¨Ø´ÙƒÙ„ Ø®Ø§Øµ
    RewriteCond %{REQUEST_METHOD} OPTIONS
    RewriteRule ^(.*)$ - [R=200,L]
    
    # Ù‚Ø§Ø¹Ø¯Ø© Ø®Ø§ØµØ© Ù„Ù€ auth.php - Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    RewriteCond %{REQUEST_URI} auth\.php$
    RewriteRule ^(.*)$ - [L,E=no-gzip:1]
</IfModule>

# Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø·Ù„Ø¨Ø§Øª PUT/DELETE Ø¥Ù„Ù‰ POST Ù„Ù„Ø§Ø³ØªØ¶Ø§ÙØ§Øª Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠØ©
<IfModule mod_rewrite.c>
    RewriteCond %{REQUEST_METHOD} ^(PUT|DELETE)$
    RewriteRule ^(.*)$ $1 [L]
</IfModule>

# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù…Ù„ÙØ§Øª API Ø§Ù„Ø¹Ø§Ù…Ø©
# Ø§Ø³ØªØ®Ø¯Ø§Ù… ØµÙŠØºØ© Ù…ØªÙˆØ§ÙÙ‚Ø© Ù…Ø¹ Apache 2.2 Ùˆ 2.4+ Ùˆ LiteSpeed
<IfModule mod_authz_core.c>
    # Apache 2.4+ Ùˆ LiteSpeed
    <FilesMatch "\.(php)$">
        Require all granted
    </FilesMatch>
    <Files "auth.php">
        Require all granted
    </Files>
    <DirectoryMatch ".*">
        Require all granted
    </DirectoryMatch>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯
    <Directory ".">
        Require all granted
        Options +ExecCGI +FollowSymLinks
    </Directory>
</IfModule>

<IfModule !mod_authz_core.c>
    # Apache 2.2 (fallback Ù„Ù„Ø®ÙˆØ§Ø¯Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©)
    <FilesMatch "\.(php)$">
        Order allow,deny
        Allow from all
    </FilesMatch>
    <Files "auth.php">
        Order allow,deny
        Allow from all
    </Files>
    <DirectoryMatch ".*">
        Order allow,deny
        Allow from all
    </DirectoryMatch>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯
    <Directory ".">
        Order allow,deny
        Allow from all
        Options +ExecCGI +FollowSymLinks
    </Directory>
</IfModule>

# Ù‚ÙˆØ§Ø¹Ø¯ Ø®Ø§ØµØ© Ù„Ù€ LiteSpeed Web Server
<IfModule LiteSpeed>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨ØªÙ†ÙÙŠØ° PHP
    <FilesMatch "\.(php)$">
        SetHandler lsapi
        Require all granted
    </FilesMatch>
    <Files "auth.php">
        SetHandler lsapi
        Require all granted
    </Files>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    Options +ExecCGI
    Options +FollowSymLinks
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¬Ù„Ø¯
    <Directory ".">
        Require all granted
        Options +ExecCGI +FollowSymLinks
    </Directory>
    # Ù‚Ø§Ø¹Ø¯Ø© Ø®Ø§ØµØ© Ù„Ù…Ù†Ø¹ 403 Ù…Ù† LiteSpeed
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ HTTP Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­
    <IfModule mod_rewrite.c>
        RewriteEngine On
        # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø·Ù„Ø¨Ø§Øª POST Ø¥Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª PHP
        RewriteCond %{REQUEST_METHOD} POST
        RewriteCond %{REQUEST_URI} \.php$
        RewriteRule ^(.*)$ - [L,E=no-gzip:1]
    </IfModule>
</IfModule>

# Ù…Ù†Ø¹ Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø¬Ù„Ø¯ (Ø§Ù„Ø£Ù…Ø§Ù†)
Options -Indexes

# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ HTTP Ø¨Ø´ÙƒÙ„ ØµØ±ÙŠØ­ - Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© 403
<IfModule mod_headers.c>
    # Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ù‚ÙŠÙˆØ¯ Ø¹Ù„Ù‰ Ø·Ø±Ù‚ HTTP
    Header unset X-Requested-With
</IfModule>

# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨ØªÙ†ÙÙŠØ° PHP ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
<FilesMatch "\.php$">
    SetHandler application/x-httpd-php
</FilesMatch>

# Ù‚ÙˆØ§Ø¹Ø¯ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù…Ù†Ø¹ 403 Forbidden
# Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø·Ù„Ø¨Ø§Øª POST Ù…Ø¹ Content-Type: application/json
<IfModule mod_headers.c>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª
    Header set Access-Control-Allow-Headers "Content-Type, Authorization, X-Requested-With, Accept, Origin, X-HTTP-Method-Override"
</IfModule>

# Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ¹Ø·ÙŠÙ„ Ù‚ÙˆØ§Ø¹Ø¯ mod_security Ù„Ù„Ø·Ù„Ø¨Ø§Øª Ø¥Ù„Ù‰ API (Ù‚Ø¯ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙˆØ§Ø¯Ù…)
<IfModule mod_security.c>
    SecRuleRemoveById 300013
    SecRuleRemoveById 300014
    SecRuleRemoveById 300015
    SecRuleRemoveById 300016
    SecRuleRemoveById 300017
    SecRuleRemoveById 949110
    SecRuleRemoveById 980130
</IfModule>

# Ù‚Ø§Ø¹Ø¯Ø© Ø®Ø§ØµØ© Ù„Ù…Ù„Ù auth.php Ùˆ test-auth.php Ù„Ù…Ù†Ø¹ 403
<FilesMatch "^(auth|test-auth)\.php$">
    <IfModule mod_authz_core.c>
        Require all granted
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Allow from all
    </IfModule>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¬Ù…ÙŠØ¹ Ø·Ø±Ù‚ HTTP
    Options +ExecCGI +FollowSymLinks
    # Ù‚Ø§Ø¹Ø¯Ø© Ø®Ø§ØµØ© Ù„Ù€ LiteSpeed
    <IfModule LiteSpeed>
        SetHandler lsapi
        Require all granted
>>>>>>> 04142393a4124dd57e08ede9a51134349457bdae
    </IfModule>
</FilesMatch>

# ============================================
# ğŸŒ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª CORS Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
# ============================================
<IfModule mod_headers.c>
    # Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù…Ù„ÙØ§Øª HTML Ùˆ CSS Ùˆ JS
    <FilesMatch "\.(html|css|js)$">
        Header set Access-Control-Allow-Origin "*"
        Header set Access-Control-Allow-Methods "GET, POST, OPTIONS"
        Header set Access-Control-Allow-Headers "Content-Type, X-Requested-With"
    </FilesMatch>
</IfModule>

# Ù…Ù†Ø¹ Ø¹Ø±Ø¶ Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª 
Options -Indexes